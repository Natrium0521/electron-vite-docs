# 热重载

::: tip 提示
热重载从 1.0.8 版本开始可用
:::

## 什么是热重载

热重载是指在主进程或预加载脚本模块发生变化时快速重新构建并重启 Electron 程序。事实上，并不是真正的热重载，而是类似的。它为开发者带来了很好的开发体验。

electron-vite 是怎么做到的：

- 启用 rollup 监视器, 观察主进程或预加载脚本的模块变化。

- 当主进程的模块变化时，重新构建并重启 Electron 程序。

- 当预加载脚本的模块变化时，重新构建并触发渲染进程重载。

## 开启热重载

有两种启用方式：

1. 使用 CLI 选项 `-w` 或 `--watch`，例如 `electron-vite dev --watch`。这是首选方式，它更加灵活。
2. 使用配置项 `build.watch` 并设为 `{}`。此外，还可以配置更多的 watcher 选项，见 [WatcherOptions](https://rollupjs.org/guide/en/#watch-options)。

::: tip 提示
热重载只能在开发阶段使用。
:::

::: warning 何时使用热重载
因为重载的时机不可控，所以热重载无法完美实现。在实践中，热重载并不总是有益的，因此建议使用 CLI 选项来灵活决定是否启用。
:::
